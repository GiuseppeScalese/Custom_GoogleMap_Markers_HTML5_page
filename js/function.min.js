var MyApp=MyApp||{},MyApp=function(){var a,b,c=function(a){$(".validation-message").html("<span class=error-message>"+a+"</span>").fadeIn()},d=function(a){return{charactersNoSpaces:a.replace(/\s+/g,"").length,characters:a.length,lines:a.split(/\r*\n/).length,commas:a.split(",").length-1,fullStop:a.split(".").length-1}},e=function(){var e=$(".counter-summary");$("#textarea-content").on("keyup",function(f){var g=/^[a-zA-Z ',.\n]+$/,h=g.test(this.value);if(this.value){if(!h){var i="Character not allowed. Only alphabetic characters, commas, fullstop and apostrophe are allowed.",j=/[^a-zA-Z ',.\n]+/g;return this.value=this.value.replace(j,""),c(i),!1}var k=d(this.value);a=k.commas,b=k.fullStop,e.html("<span>Characters (no spaces): "+k.charactersNoSpaces+"</span><span>Characters (and spaces): "+k.characters+"</span><span>Lines: "+k.lines+"</span>"),$(".validation-message").fadeOut()}})},f=function(a,b){var c=1;$(".table-box").show();var d=$("<table class=table-box__content><thead><tr><th>"+b+"</td></tr></thead><tbody></tbody></table>");$(".table-box").append(d);for(var e=0;e<a.length;e++)if(a[e]===a[e+1])c++,a.splice(e,1),e--;else{if(c>1){var f=$("<tr><td>"+a[e]+" ("+c+")</td></tr>");c=1}else var f=$("<tr><td>"+a[e]+"</td></tr>");f.appendTo(d)}},g=function(){for(var a=/[.,]/g,b=$("#textarea-content").val().toLowerCase().replace(a," ").trim().split(" ").sort(),c=0;c<b.length;c++)"'"===b[c].charAt(0)&&(b[c]=b[c].replace(/'/g,""));b=$.grep(b,function(a){return a});var d="'";return b=$.grep(b,function(a){return a!=d})},h=function(a){$(".table-box").empty();for(var b,c,d,e=0;e<a.length;e++){var g=[];b=a[e],c=b.charAt(0),g.push(a[e]);for(var h=1;h<a.length;h++){var i=a[h];d=i.charAt(0),c===d&&(g.push(a[h]),a.splice(h,1),h--)}a.splice(e,1),e--,f(g,c)}},i=function(){e()},j=function(){$(".form__button").click(function(){var d=g(),e=d.length;if(e>=5&&500>=e)h(d),$(".counter-summary").prepend("<span>Words: "+e+"</span><span>Full stops: "+b+"</span><span>Commas: "+a+"</span>");else{var f="The amount of words you can insert is between 5 and 500.";c(f)}})};return{stringValidation:i,submitEvent:j}}();MyApp.stringValidation(),MyApp.submitEvent();